!function(){"use strict";function a(){}function b(){}angular.module("gjTimerApp",["ui.bootstrap","gjTimer"]),angular.module("gjTimerApp").config(a).run(b)}(),function(){"use strict";angular.module("gjTimer",["cub","menuBar","scramble","statistics","timer"])}(),function(){"use strict";function a(a,b){a.keydown=function(a){b.$broadcast("keydown",a)},a.keyup=function(a){b.$broadcast("keyup",a)}}angular.module("gjTimer").controller("gjTimerController",["$scope","$rootScope",a])}(),function(){"use strict";function a(){return function(a){return a.slice().reverse()}}angular.module("gjTimer").filter("reverse",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"/dist/components/gjTimer/cub/cub.html",controller:"CubController",controllerAs:"ctrl",scope:!0}}angular.module("cub",[]).directive("cub",a)}(),function(){"use strict";function a(a,b){}angular.module("cub").controller("CubController",["$rootScope","CubService",a])}(),function(){"use strict";function a(){}angular.module("cub").service("CubService",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"/dist/components/gjTimer/scramble/scramble.html",controller:"ScrambleController",controllerAs:"ctrl",scope:!0}}angular.module("scramble",[]).directive("scramble",a)}(),function(){"use strict";function a(a,b,c){var d=this;a.$on("new scramble",function(a,e){d.scramble=c.newScramble(e),b.scramble=d.scramble})}angular.module("scramble").controller("ScrambleController",["$scope","$rootScope","ScrambleService",a])}(),function(){"use strict";function a(){var a=this;a.getScramble=function(){return a.scramble},a.newScramble=function(c){return a.scramble=b(c),a.scramble}}function b(a){switch(a){case"2x2 Cube":return c(10);case"Rubik's Cube":return d(20);case"4x4 Cube":return e(40);case"5x5 Cube":return f(60);case"6x6 Cube":return g(80);case"7x7 Cube":return h(100)}}function c(a){for(var b="",c=-1,d=0;a>d;d++){for(var e,f=Math.floor(3*Math.random()),g=Math.floor(3*Math.random());f===c;)f=Math.floor(3*Math.random()),e=Math.floor(2*Math.random()),g=Math.floor(3*Math.random());switch(0===f?b=b.concat("U"):1===f?b=b.concat("F"):2===f&&(b=b.concat("R")),g){case 1:b=b.concat("'");break;case 2:b=b.concat("2")}c=f,a-1>d&&(b=b.concat(" "))}return b}function d(a){for(var b=-1,c=-1,d="",e=0;a>e;e++){var f=Math.floor(6*Math.random()),g=Math.floor(3*Math.random());for((0===b&&1!==c||1===b&&0!==c||2===b&&3!==c||3===b&&2!==c||4===b&&5!==c||5===b&&4!==c)&&(c=-1);f===b||f===c;)f=Math.floor(6*Math.random());switch(f){case 0:d=d.concat("U");break;case 1:d=d.concat("D");break;case 2:d=d.concat("L");break;case 3:d=d.concat("R");break;case 4:d=d.concat("F");break;case 5:d=d.concat("B")}switch(g){case 1:d=d.concat("'");break;case 2:d=d.concat("2")}c=b,b=f,a-1>e&&(d=d.concat(" "))}return d}function e(a){for(var b="",c=0,d=-1,e=-1,f=0;a>f;f++){var g=Math.floor(3*Math.random()),h=Math.floor(3*Math.random()),i=Math.floor(2*Math.random()),j=Math.floor(3*Math.random());switch(g!==d&&(c=0),h){case 0:e=1;break;case 1:e=2;break;case 2:e=4}for(;d===g&&(e&c)>0;)g=Math.floor(3*Math.random()),h=Math.floor(3*Math.random()),i=Math.floor(2*Math.random()),j=Math.floor(3*Math.random()),g!==d&&(c=0);switch(0===g?b=0===h?b.concat("U"):2===h?b.concat("D"):0===i?b.concat("Uw"):b.concat("Dw"):1===g?b=0===h?b.concat("F"):2===h?b.concat("B"):0===i?b.concat("Fw"):b.concat("Bw"):2===g&&(b=0===h?b.concat("L"):2===h?b.concat("R"):0===i?b.concat("Lw"):b.concat("Rw")),h){case 0:c+=1;break;case 1:c+=2;break;case 2:c+=4}switch(j){case 1:b=b.concat("'");break;case 2:b=b.concat("2")}d=g,a-1>f&&(b=b.concat(" "))}return b}function f(a){for(var b="",c=0,d=-1,e=-1,f=0;a>f;f++){var g=Math.floor(3*Math.random()),h=Math.floor(4*Math.random()),i=Math.floor(3*Math.random());switch(g!==d&&(c=0),h){case 0:e=1;break;case 1:e=2;break;case 2:e=4;break;case 3:e=8}for(;d===g&&(e&c)>0;)g=Math.floor(3*Math.random()),h=Math.floor(4*Math.random()),i=Math.floor(3*Math.random()),g!==d&&(c=0);switch(0===g?b=0===h?b.concat("U"):1===h?b.concat("Uw"):2===h?b.concat("Dw"):b.concat("D"):1===g?b=0===h?b.concat("F"):1===h?b.concat("Fw"):2===h?b.concat("Bw"):b.concat("B"):2===g&&(b=0===h?b.concat("L"):1===h?b.concat("Lw"):2===h?b.concat("Rw"):b.concat("R")),h){case 0:c+=1;break;case 1:c+=2;break;case 2:c+=4;break;case 3:c+=8}switch(i){case 1:b=b.concat("'");break;case 2:b=b.concat("2")}d=g,a-1>f&&(b=b.concat(" "))}return b}function g(a){for(var b="",c=0,d=-1,e=-1,f=0;a>f;f++){var g=Math.floor(3*Math.random()),h=Math.floor(5*Math.random()),i=Math.floor(2*Math.random()),j=Math.floor(3*Math.random());switch(g!==d&&(c=0),h){case 0:e=1;break;case 1:e=2;break;case 2:e=4;break;case 3:e=8;break;case 4:e=16}for(;d===g&&(e&c)>0;)g=Math.floor(3*Math.random()),h=Math.floor(5*Math.random()),i=Math.floor(2*Math.random()),j=Math.floor(3*Math.random()),g!==d&&(c=0);switch(0===g?b=0===h?b.concat("U"):1===h?b.concat("D"):2===h?b.concat("Uw"):3===h?b.concat("Dw"):0===i?b.concat("3Uw"):b.concat("3Dw"):1===g?b=0===h?b.concat("F"):1===h?b.concat("B"):2===h?b.concat("Fw"):3===h?b.concat("Bw"):0===i?b.concat("3Fw"):b.concat("3Bw"):2===g&&(b=0===h?b.concat("L"):1===h?b.concat("R"):2===h?b.concat("Lw"):3===h?b.concat("Rw"):0===i?b.concat("3Lw"):b.concat("3Rw")),h){case 0:c+=1;break;case 1:c+=2;break;case 2:c+=4;break;case 3:c+=8;break;case 4:c+=16}switch(j){case 1:b=b.concat("'");break;case 2:b=b.concat("2")}d=g,a-1>f&&(b=b.concat(" "))}return b}function h(a){for(var b="",c=0,d=-1,e=-1,f=0;a>f;f++){var g=Math.floor(3*Math.random()),h=Math.floor(6*Math.random()),i=Math.floor(3*Math.random());switch(g!==d&&(c=0),h){case 0:e=1;break;case 1:e=2;break;case 2:e=4;break;case 3:e=8;break;case 4:e=16;break;case 5:e=32}for(;d===g&&(e&c)>0;)g=Math.floor(3*Math.random()),h=Math.floor(6*Math.random()),i=Math.floor(3*Math.random()),g!==d&&(c=0);switch(0===g?b=0===h?b.concat("U"):1===h?b.concat("D"):2===h?b.concat("Uw"):3===h?b.concat("Dw"):4===h?b.concat("3Uw"):b.concat("3Dw"):1===g?b=0===h?b.concat("F"):1===h?b.concat("B"):2===h?b.concat("Fw"):3===h?b.concat("Bw"):4===h?b.concat("3Fw"):b.concat("3Bw"):2===g&&(b=0===h?b.concat("L"):1===h?b.concat("R"):2===h?b.concat("Lw"):3===h?b.concat("Rw"):4===h?b.concat("3Lw"):b.concat("3Rw")),h){case 0:c+=1;break;case 1:c+=2;break;case 2:c+=4;break;case 3:c+=8;break;case 4:c+=16;break;case 5:c+=32}switch(i){case 1:b=b.concat("'");break;case 2:b=b.concat("2")}d=g,a-1>f&&(b=b.concat(" "))}return b}angular.module("scramble").service("ScrambleService",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"/dist/components/gjTimer/menuBar/menuBar.html",controller:"MenuBarController",controllerAs:"ctrl",scope:!0}}angular.module("menuBar",[]).directive("menuBar",a)}(),function(){"use strict";function a(a,b,c){var d=this,e=20;d.puzzles=c.getPuzzles(),d.session=c.init(),d.puzzle=d.session.puzzle||c.convertScrambleType(d.session.scrambleType),a.sessionId="session"+d.session.name.substr(8,d.session.name.length),a.puzzle=d.puzzle,b(function(){a.$broadcast("new scramble",d.puzzle)},50),d.sessions=[];for(var f=0;e>f;f++)d.sessions[f]={};angular.forEach(d.sessions,function(a,b){a.name="Session "+(b+1)}),d.selectPuzzle=function(b){d.puzzle=c.changePuzzle("session"+d.session.name.substr(8,d.session.name.length),b),a.puzzle=d.puzzle,a.$broadcast("new scramble",d.puzzle)},d.changeSession=function(b){d.session=c.changeSession("session"+b.substr(8,b.length)),d.puzzle!==(d.session.puzzle||c.convertScrambleType(d.session.scrambleType))&&a.$broadcast("new scramble",d.session.puzzle),d.puzzle=d.session.puzzle||c.convertScrambleType(d.session.scrambleType)},d.settings=function(){console.log("settings")},d.scramble=function(){a.$broadcast("new scramble",d.session.puzzle)},d.resetSession=function(){confirm("Are you sure you would like to reset "+d.session.name+"?")&&(d.session=c.resetSession("session"+d.session.name.substr(8,d.session.name.length)),a.$broadcast("refresh data"))}}angular.module("menuBar").controller("MenuBarController",["$rootScope","$timeout","MenuBarService",a])}(),function(){"use strict";function a(){var a=this,b=20,c=["Rubik's Cube","4x4 Cube","5x5 Cube","2x2 Cube","6x6 Cube","7x7 Cube"];a.init=function(){var c;null!==localStorage.getItem("currentSessionId")?c=localStorage.getItem("currentSessionId"):(c=null!==localStorage.getItem("sessionNumber")?"session"+localStorage.getItem("sessionNumber"):"session1",localStorage.setItem("currentSessionId",c));for(var d={puzzle:"Rubik's Cube",list:[]},e=1;b>=e;e++)null===localStorage.getItem("session"+e)&&(d.name="Session "+e,localStorage.setItem("session"+e,JSON.stringify(d)));return a.getSession(c)},a.getSession=function(a){return JSON.parse(localStorage.getItem(a))},a.changeSession=function(b){return localStorage.setItem("currentSessionId",b),a.getSession(b)},a.resetSession=function(a){var b=JSON.parse(localStorage.getItem(a));return b.list=[],localStorage.setItem(a,JSON.stringify(b)),b},a.changePuzzle=function(a,b){var c=JSON.parse(localStorage.getItem(a));return c.puzzle=b,localStorage.setItem(a,JSON.stringify(c)),c.puzzle},a.getPuzzles=function(){return c},a.convertScrambleType=function(a){switch(a){case 2:return"2x2 Cube";case 3:return"Rubik's Cube";case 4:return"4x4 Cube";case 5:return"5x5 Cube";case 6:return"6x6 Cube";case 7:return"7x7 Cube"}}}angular.module("menuBar").service("MenuBarService",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"/dist/components/gjTimer/statistics/statistics.html",controller:"StatisticsController",controllerAs:"ctrl",scope:!0}}angular.module("statistics",[]).directive("statistics",a)}(),function(){"use strict";function a(a,b,c){var d=this;d.results=c.getResults(b.sessionId),a.$on("refresh data",function(){d.results=c.getResults(b.sessionId)})}angular.module("statistics").controller("StatisticsController",["$scope","$rootScope","StatisticsService",a])}(),function(){"use strict";function a(){var a=this;a.getResults=function(a){return JSON.parse(localStorage.getItem(a)).list}}angular.module("statistics").service("StatisticsService",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"/dist/components/gjTimer/timer/timer.html",controller:"TimerController",controllerAs:"ctrl",scope:!0}}angular.module("timer",[]).directive("timer",a)}(),function(){"use strict";function a(a,b,c,d){var e,f=this,g=50,h=32,i="#000000",j="#2EB82E",k=moment(0).format("s.SS"),l=!1,m=!1;f.time=k,f.timerStyle={color:"#000000"},a.$on("keydown",function(a,g){l||(m||32!==g.keyCode?m&&(l=!0,c.cancel(e),d.saveResult(f.time,b.scramble,b.sessionId),b.$broadcast("new scramble",b.puzzle),b.$broadcast("refresh data")):(l=!0,f.time=k,f.timerStyle={color:j}))}),a.$on("keyup",function(a,b){l&&(m||b.keyCode!==h?m&&(m=!1,l=!1):(l=!1,m=!0,f.timerStyle={color:i},d.startTimer(),e=c(function(){f.time=d.getTime()},g)))})}angular.module("timer").controller("TimerController",["$scope","$rootScope","$interval","TimerService",a])}(),function(){"use strict";function a(){var a,b=this;b.getTime=function(){var b=moment(Date.now()-a);return 1e4>b?b.format("s.SSS"):6e4>b?b.format("ss.SSS"):6e5>b?b.format("m:ss.SSS"):36e5>b?b.utc().format("h:mm:ss.SSS"):void 0},b.startTimer=function(){a=Date.now()},b.saveResult=function(a,b,c){var d={time:a,scramble:b,date:new Date},e=JSON.parse(localStorage.getItem(c));e.list.push(d),localStorage.setItem(c,JSON.stringify(e))}}angular.module("timer").service("TimerService",a)}();